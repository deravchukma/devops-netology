#!/usr/bin/env bash

# Получаем сообщение коммита

commitMsg='^(\[[0-9]+-[A-Za-z]+-[0-9]+-[A-Za-z]+\])$'

# проверка длинны сообщения

len=$(cat $1 | wc -m)
if [[ $len -gt 30 ]]
then
  echo "Сообщение к коммиту не должно превышать 30 символов!"
  exit 1
  
# Проверка формата сообщения 

elif ! grep -qE "$commitMsg" "$1";
  then
    echo "Сообщение к коммиту не соответствует формату: [XX-текст-XX-текст]"
    exit 1
fi