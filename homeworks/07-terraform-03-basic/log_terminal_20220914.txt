
dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ export TF_VAR_yc_token=AQAAAAAc6NGtAATuwf82xDdTrkkjsNpAte4E4u0
dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ export TF_VAR_yc_cloud_id=b1g7s2ff22026b6543bd

dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ yc iam service-account create --name netology-service
id: ajepov45ipgb13df98mu
folder_id: b1gido7jghida49n0l1h
created_at: "2022-09-14T19:37:06.890232625Z"
name: netology-service

dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ yc resource-manager folder add-access-binding b1gido7jghida49n0l1h --role editor --subject serviceAccount:ajepov45ipgb13df98mu
done (2s)
dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ yc iam access-key create --service-account-name netology-service
access_key:
  id: ajedlfi44n7bmdvuukva
  service_account_id: ajepov45ipgb13df98mu
  created_at: "2022-09-14T20:09:58.479605072Z"
  key_id: YCAJEbce2ZSMEmU9gY-N7RzBR
secret: YCPaeFiqifOd75s1iurE6QcBnoLGhFEL0UIMv9x9

dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ yc iam key create --service-account-name netology-service --output key.json
id: ajerihar5t7d1v5rtjk5
service_account_id: ajepov45ipgb13df98mu
created_at: "2022-09-14T20:10:41.718751076Z"
key_algorithm: RSA_2048

dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ yc config profile create netology-service
Profile 'netology-service' created and activated
dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ yc config set service-account-key key.json
dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ export TF_VAR_yc_access_key=YCAJEbce2ZSMEmU9gY-N7RzBR
dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ export TF_VAR_yc_secret_key=YCPaeFiqifOd75s1iurE6QcBnoLGhFEL0UIMv9x9

dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ terraform init
Initializing modules...

Initializing the backend...

Initializing provider plugins...
- Finding yandex-cloud/yandex versions matching "0.61.0, ~> 0.61.0"...
- Installing yandex-cloud/yandex v0.61.0...
- Installed yandex-cloud/yandex v0.61.0 (unauthenticated)

Terraform has created a lock file .terraform.lock.hcl to record the provider
selections it made above. Include this file in your version control repository
so that Terraform can guarantee to make the same selections by default when
you run "terraform init" in the future.

╷
│ Warning: Incomplete lock file information for providers
│ 
│ Due to your customized provider installation methods, Terraform was forced to calculate lock file checksums locally for the following providers:
│   - yandex-cloud/yandex
│ 
│ The current .terraform.lock.hcl file only includes checksums for linux_amd64, so Terraform running on another platform will fail to install these providers.
│ 
│ To calculate additional checksums for another platform, run:
│   terraform providers lock -platform=linux_amd64
│ (where linux_amd64 is the platform to generate)
╵

Terraform has been successfully initialized!

You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.
dma@ubuntu:~/homeworks/07-terraform-03-basic/terraform/demo$ 
